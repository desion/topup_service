/*************************************************************************
	> File Name: Test_HttpClient.cpp
	> Author: desionwang
	> Mail: wdxin1322@qq.com 
	> Created Time: Wed 22 Jan 2014 03:44:47 PM CST
 ************************************************************************/

#include "HttpClient.h"

using namespace std;

size_t debug(void *buffer, size_t size, size_t count, void *user_p)
{
	fprintf(stdout, "%s\n", (char*)buffer);
	return size * count;
}



int main(int argc, char *argv[]){
	map<string, string> entitys;
	if(argc > 1){
		char *url = argv[1];
		for(int i = 0; i < 10; i++)
			httpclent_perform(url, "a=1&b=2&c=3", &debug);
	}

	parse_params("a=1&b=2&c=3", &entitys);
	char md5str[33] = {0};
	str2md5("a=1&b=2&c=3", 11,md5str);
	printf("MD5:%s\n", md5str);
	map<string, string>::iterator it = entitys.begin();
	for(;it != entitys.end(); ++it){
		printf("key:%s\tvalue:%s\n", it->first.c_str(), it->second.c_str());
	}
}

